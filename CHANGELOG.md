# Изменения

## 2025-12-01 - Исправление передачи кириллицы в Google Apps Script

### Проблема
Город и другие поля с кириллицей не передавались корректно в Google Apps Script при использовании GET запросов с URL параметрами. Кириллические символы декодировались некорректно из-за проблем с кодировкой в `e.parameter`.

### Решение
Переход с GET запросов на **POST запросы с JSON в теле**:

1. **bot.py:185-198** - Изменена функция `sync_progress`:
   - Вместо GET запроса с URL параметрами используется POST запрос
   - Данные отправляются как JSON в теле запроса с кодировкой UTF-8
   - Добавлен заголовок `Content-Type: application/json; charset=utf-8`

2. **GAS/GET.js** - Скрипт уже поддерживает POST запросы через функцию `doPost(e)`

### Результат
- ✅ Кириллица (города, имена) теперь передается корректно
- ✅ Проверено тестами: город "Москва" и "Санкт-Петербург" передаются без искажений
- ✅ Данные корректно записываются в Google Таблицу

### Тестирование
Для проверки запустите:
```bash
python test_simple.py
```

Результат будет сохранен в `simple_test_result.json` и должен содержать корректный город в поле `debug_received_data.city`.
